# Auto-generated by tools/generate_domain_rules.py
# DO NOT EDIT MANUALLY - Regenerate using: python tools/generate_domain_rules.py
# Generated on: 2026-02-08T12:13:48.342289
# Configuration: .domain-validator.yaml

rules:
- id: budgetpro.domain.immutability.entity-final-fields.presupuesto
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id001
    - backend/src/main/java/com/budgetpro/domain/finanzas/presupuesto/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: presupuesto

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: presupuesto
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.presupuesto
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id001
    exclude: &id002 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: presupuesto

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: presupuesto
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.presupuesto
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/finanzas/presupuesto/**/model/*Id.java
    exclude: *id002
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: presupuesto

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: presupuesto
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.presupuesto
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id001
    exclude: *id002
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: presupuesto

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: presupuesto
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.estimacion
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id003
    - backend/src/main/java/com/budgetpro/domain/finanzas/estimacion/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: estimacion

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: estimacion
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.estimacion
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id003
    exclude: &id004 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: estimacion

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: estimacion
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.estimacion
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/finanzas/estimacion/**/model/*Id.java
    exclude: *id004
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: estimacion

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: estimacion
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.estimacion
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id003
    exclude: *id004
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: estimacion

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: estimacion
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.cronograma
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id005
    - backend/src/main/java/com/budgetpro/domain/finanzas/cronograma/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: cronograma

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: cronograma
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.cronograma
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id005
    exclude: &id006 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: cronograma

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: cronograma
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.cronograma
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/finanzas/cronograma/**/model/*Id.java
    exclude: *id006
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: cronograma

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: cronograma
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.cronograma
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id005
    exclude: *id006
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: cronograma

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: cronograma
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.catalogo
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id007
    - backend/src/main/java/com/budgetpro/domain/catalogo/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: catalogo

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: catalogo
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.catalogo
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id007
    exclude: &id008 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: catalogo

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: catalogo
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.catalogo
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/catalogo/**/model/*Id.java
    exclude: *id008
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: catalogo

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: catalogo
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.catalogo
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id007
    exclude: *id008
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: catalogo

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: catalogo
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.logistica
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id009
    - backend/src/main/java/com/budgetpro/domain/logistica/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: logistica

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: logistica
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.logistica
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id009
    exclude: &id010 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: logistica

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: logistica
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.logistica
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/logistica/**/model/*Id.java
    exclude: *id010
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: logistica

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: logistica
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.logistica
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id009
    exclude: *id010
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: logistica

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: logistica
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.rrhh
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id011
    - backend/src/main/java/com/budgetpro/domain/rrhh/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: rrhh

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: rrhh
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.rrhh
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id011
    exclude: &id012 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: rrhh

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: rrhh
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.rrhh
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/rrhh/**/model/*Id.java
    exclude: *id012
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: rrhh

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: rrhh
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.rrhh
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id011
    exclude: *id012
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: rrhh

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: rrhh
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.finanzas_avance
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id013
    - backend/src/main/java/com/budgetpro/domain/finanzas/avance/**/*.java
    - backend/src/main/java/com/budgetpro/domain/finanzas/evm/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: finanzas_avance

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_avance
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.finanzas_avance
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id013
    exclude: &id014 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: finanzas_avance

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_avance
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.finanzas_avance
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/finanzas/avance/**/model/*Id.java
    - backend/src/main/java/com/budgetpro/domain/finanzas/evm/**/model/*Id.java
    exclude: *id014
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: finanzas_avance

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_avance
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.finanzas_avance
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id013
    exclude: *id014
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: finanzas_avance

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: finanzas_avance
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.finanzas_alertas
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id015
    - backend/src/main/java/com/budgetpro/domain/finanzas/alertas/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: finanzas_alertas

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_alertas
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.finanzas_alertas
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id015
    exclude: &id016 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: finanzas_alertas

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_alertas
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.finanzas_alertas
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/finanzas/alertas/**/model/*Id.java
    exclude: *id016
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: finanzas_alertas

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_alertas
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.finanzas_alertas
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id015
    exclude: *id016
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: finanzas_alertas

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: finanzas_alertas
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.finanzas_other
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id017
    - backend/src/main/java/com/budgetpro/domain/finanzas/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: finanzas_other

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_other
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.finanzas_other
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id017
    exclude: &id018
    - backend/src/main/java/com/budgetpro/domain/finanzas/presupuesto/**
    - backend/src/main/java/com/budgetpro/domain/finanzas/estimacion/**
    - backend/src/main/java/com/budgetpro/domain/finanzas/cronograma/**
    - backend/src/main/java/com/budgetpro/domain/finanzas/avance/**
    - backend/src/main/java/com/budgetpro/domain/finanzas/evm/**
    - backend/src/main/java/com/budgetpro/domain/finanzas/alertas/**
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: finanzas_other

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_other
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.finanzas_other
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/finanzas/**/model/*Id.java
    exclude: *id018
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: finanzas_other

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: finanzas_other
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.finanzas_other
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id017
    exclude: *id018
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: finanzas_other

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: finanzas_other
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.proyecto
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id019
    - backend/src/main/java/com/budgetpro/domain/proyecto/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: proyecto

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: proyecto
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.proyecto
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id019
    exclude: &id020 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: proyecto

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: proyecto
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.proyecto
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/proyecto/**/model/*Id.java
    exclude: *id020
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: proyecto

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: proyecto
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.proyecto
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id019
    exclude: *id020
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: proyecto

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: proyecto
    strict_mode: true
- id: budgetpro.domain.immutability.entity-final-fields.shared
  patterns:
  - pattern: private $TYPE $FIELD;
  - pattern-not: private final $TYPE $FIELD;
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include: &id021
    - backend/src/main/java/com/budgetpro/domain/shared/**/*.java
    exclude: []
  message: 'INMUTABILIDAD: Campos sin ''final'' en entidad de dominio.

    Los campos privados en entidades de dominio deben ser inmutables para garantizar
    la integridad del modelo.

    Usa ''private final'' para campos de entidades de dominio.

    Contexto: shared

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: shared
    strict_mode: true
- id: budgetpro.domain.immutability.snapshot-no-setters.shared
  patterns:
  - pattern: public void $METHOD(...) { ... }
  - metavariable-regex:
      metavariable: $METHOD
      regex: ^set[A-Z].*
  - pattern-inside: "class $CLASS {\n  ...\n}"
  - metavariable-regex:
      metavariable: $CLASS
      regex: .*Snapshot
  paths:
    include: *id021
    exclude: &id022 []
  message: 'INMUTABILIDAD: Snapshot con setters detectado.

    Los snapshots deben ser inmutables para garantizar la integridad de los datos
    históricos.

    Usa constructor o builder pattern en lugar de setters.

    Contexto: shared

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: shared
    strict_mode: true
- id: budgetpro.domain.immutability.valueobject-no-setters.shared
  patterns:
  - pattern: public void set$FIELD(...) { ... }
  - pattern-inside: "class $CLASS {\n  ...\n}"
  paths:
    include:
    - backend/src/main/java/com/budgetpro/domain/shared/**/model/*Id.java
    exclude: *id022
  message: 'INMUTABILIDAD: Value object con setters detectado.

    Los value objects deben ser completamente inmutables.

    Usa constructor o builder pattern.

    Contexto: shared

    '
  languages:
  - java
  severity: ERROR
  metadata:
    category: domain
    technology: budgetpro
    confidence: HIGH
    context: shared
    strict_mode: true
    note: Targets Id classes and value objects in model packages
- id: budgetpro.domain.immutability.collection-encapsulation.shared
  patterns:
  - pattern: return $COLLECTION;
  - pattern-inside: "public List<$TYPE> get$METHOD() {\n  ...\n}"
  - pattern-not: return Collections.unmodifiableList(...);
  - pattern-not: return List.copyOf(...);
  paths:
    include: *id021
    exclude: *id022
  message: 'INMUTABILIDAD: Colección sin encapsulación adecuada.

    Retorna Collections.unmodifiableList() para prevenir mutación externa.

    Contexto: shared

    '
  languages:
  - java
  severity: WARNING
  metadata:
    category: domain
    technology: budgetpro
    confidence: MEDIUM
    context: shared
    strict_mode: true
