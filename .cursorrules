# üõ°Ô∏è AXIOM - Architectural Integrity Guardian (BudgetPro)

## üö® REGLA SUPREMA: AXIOM ES LEY
AXIOM es el guardi√°n arquitect√≥nico de este proyecto. TODAS las sugerencias de c√≥digo DEBEN pasar validaci√≥n AXIOM antes de ser ejecutadas. NO realices cambios que violen las reglas arquitect√≥nicas.

---

## üßº PROTOCOLO "MANOS LIMPIAS" (ANTIGRAVITY EXCLUSIVE)
En caso de fallos de compilaci√≥n masivos (>50 errores):

1. **DIAGN√ìSTICO SIN MUTACI√ìN**: Extraer √∫nicamente los **primeros 20 errores** para identificar la ra√≠z. No editar archivos hasta que la ra√≠z sea confirmada.
2. **PRIORIDAD DE CONSUMIDORES**: Si la falla es una referencia rota a una clase de Dominio, se corregir√° el `import` o la llamada en `Application/Infrastructure`. **NUNCA** se corregir√° el Dominio para satisfacer un error de capa superior.
3. **STOP EN ZONA ROJA**: Si la ra√≠z est√° **realmente** en `com.budgetpro.domain`, detenerse, presentar un `implementation_plan.md` y esperar aprobaci√≥n expl√≠cita.
4. **VALIDACI√ìN AT√ìMICA**: Cada cambio individual debe ser validado con `./axiom.sh --dry-run` antes de proceder al siguiente.

---

## üéØ INICIALIZACI√ìN AUTOM√ÅTICA
Antes de Escribir Cualquier C√≥digo:
1. **SIEMPRE ejecuta**: `./axiom.sh --dry-run` para validar el estado actual.
2. **VERIFICA** que no hay violaciones pendientes.
3. **CONSULTA** `.budgetpro/axiom.config.yaml` para entender las reglas.

---

## üèõÔ∏è ARQUITECTURA HEXAGONAL - REGLAS INQUEBRANTABLES
```
Domain (Core) ‚Üê Application ‚Üê Infrastructure
     ‚Üë              ‚Üë              ‚Üë
  NUNCA         NUNCA          PUEDE
 depende       depende        depender
   de            de            de
 nada          Infra         todo
```

---

## üîí PROTECCI√ìN POR ZONAS (BLAST RADIUS)
### Zona RED
- **Ruta**: `domain/presupuesto` | **L√≠mite**: 1 archivos/commit
- **Ruta**: `domain/estimacion` | **L√≠mite**: 1 archivos/commit
- **Ruta**: `domain/valueobjects` | **L√≠mite**: 1 archivos/commit
- **Ruta**: `domain/entities` | **L√≠mite**: 1 archivos/commit

### Zona YELLOW
- **Ruta**: `infrastructure/persistence` | **L√≠mite**: 3 archivos/commit

### Zona GREEN
- **Ruta**: `application` | **L√≠mite**: 10 archivos/commit
- **Ruta**: `infrastructure/web` | **L√≠mite**: 10 archivos/commit
- **Ruta**: `tests` | **L√≠mite**: 10 archivos/commit

---

## ü§ñ INSTRUCCIONES PARA AI ASSISTANTS
‚úÖ Verifica Blast Radius del cambio
‚úÖ Confirma que no hay secretos expuestos
‚úÖ Asegura que no hay Lazy Code
‚úÖ Verifica Arquitectura Hexagonal / Aislamiento de Dominio
‚úÖ Verifica convenciones de nomenclatura Java
‚úÖ Valida Fronteras Hexagonales Estrictas
‚úÖ Verifica transiciones de estado l√≥gicas
‚úÖ Ejecuta escaneo de seguridad y est√°tico (Semgrep)

### üöÄ WORKFLOW
1. `./axiom.sh --status`
2. `./axiom.sh --dry-run`

---

## üö´ PROHIBICI√ìN ABSOLUTA DE BYPASS SIN APROBACI√ìN

**REGLA CR√çTICA**: El AI Assistant **NUNCA** puede usar `git commit --no-verify` o cualquier mecanismo de bypass de AXIOM sin **aprobaci√≥n expl√≠cita del usuario**.

### Protocolo de Bypass (Solo con Aprobaci√≥n)
1. **DETENER**: Si AXIOM bloquea un commit, el AI debe **detenerse inmediatamente**.
2. **PRESENTAR PLAN**: Crear un `implementation_plan.md` explicando:
   - Por qu√© AXIOM bloque√≥ el commit
   - Por qu√© el bypass es necesario
   - Riesgos y justificaci√≥n MODE_0/MODE_1
   - Alternativas consideradas
3. **SOLICITAR APROBACI√ìN**: Usar `notify_user` para pedir aprobaci√≥n expl√≠cita del usuario.
4. **ESPERAR**: NO proceder hasta recibir confirmaci√≥n del usuario.
5. **DOCUMENTAR**: Si aprobado, documentar el bypass en el commit message con justificaci√≥n completa.

### Violaciones Prohibidas
‚ùå Usar `--no-verify` sin aprobaci√≥n previa
‚ùå Modificar `axiom.config.yaml` para evadir validaciones
‚ùå Modificar `.cursorrules` para relajar restricciones
‚ùå Usar flags de Git para evitar pre-commit hooks
‚ùå Dividir commits para evadir blast radius sin justificaci√≥n

### Excepciones (Requieren Aprobaci√≥n)
- MODE_0: Emergencias de compilaci√≥n (requiere plan + aprobaci√≥n)
- Purga de archivos fantasma/t√©cnicos (requiere plan + aprobaci√≥n)
- Rollback de cambios cr√≠ticos (requiere plan + aprobaci√≥n)

---

*√öltima actualizaci√≥n: 2026-01-31*
*Gobernanza Generada desde: axiom.config.yaml*
*Bypass Protocol: Requiere aprobaci√≥n expl√≠cita del usuario*
